<!DOCTYPE html>
    <!--  √â uma declara√ß√£o do tipo de documento que est√° usando, uma instru√ß√£o para o navegador 
    saber interpretar o c√≥digo. Nesse caso, define que estamos usando o HTML5.  -->

<html lang="pt-BR">
    <!-- Abre o HTML e diz que o idioma √© portugu√™s do Brasil. -->
    
    <head>
        <!-- Abre o cabe√ßalho do HTML, onde ficam as informa√ß√µes sobre o documento. -->

        <meta charset="UTF-8" />
        <!-- Define o conjunto de caracteres como UTF-8. Isso permite usar acentos, emojis, etc. -->
        
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <!-- Faz a p√°gina ficar responsiva, se adaptando a celular, tablet, TV, o que for. -->

        <title>Agendamentos</title>
        <link rel="stylesheet" href="css/Agendamentos.css" />
  
    </head>
    <body>
        
        <header class="cabecalho">

            <h2 class="logo">üíÖ Agendamentos</h2>

                <nav class="menu">  
                    <div class="menu-box"><a href="#formCadastro">Cadastro</a></div>
                    <div class="menu-box"><a href="#formCadastro">Entrar</a></div>
                  </nav>

        </header>
        <!-- O cabe√ßalho tem um t√≠tulo e um menu de navega√ß√£o. 
         O t√≠tulo √© "Agendamentos" e o menu tem dois links: "Cadastro" e "Entrar". -->        

    <main> 
    <!-- Conte√∫do principal da p√°gina -->
        
        <div class="box-titulo">
            <h1>Fa√ßa agora seu agendamento!</h1>
        </div>
        <!-- T√≠tulo dentro do ret√¢ngulo rosa -->
        
        <p style="text-align: center;">Se j√° for cliente, acesse aqui a sua conta.</p>
        
        <div class="box-formulario">
            <form id="formCadastro" novalidate>

                <label for="nome" class="sr-only">Nome</label>
                <input type="text" id="nome" name="nome" placeholder="Nome" required />
                <span class="mensagem-erro">*Campo obrigat√≥rio</span>
                
                <label for="sobrenome" class="sr-only">Sobrenome</label>
                <input type="text" id="sobrenome" name="sobrenome" placeholder="Sobrenome" required />
                <span class="mensagem-erro">*Campo obrigat√≥rio</span>

                <label for="telefone" class="sr-only">Telefone</label>
                <input type="tel" id="telefone" name="telefone" placeholder="Telefone (XX) XXXXX-XXXX"
                pattern="^\(\d{2}\)\s\d{4,5}-\d{4}$" required />
                <span class="mensagem-erro">*Campo obrigat√≥rio</span>
                
                <button type="submit">Entrar</button>
            </form>
        </div>
    </main>

        <div id="modalSucesso" style="display: none;" class="modal-overlay">
            <div class="modal-content">
              <h2>Cadastro enviado com sucesso!</h2>
              <p>Obrigada por agendar com a gente.</p>
              <button onclick="fecharModal()">Fechar</button>
            </div>
        </div>
        <!--Pop-up personalizado.-->

        <script>
            
            const form = document.getElementById("formCadastro");
             // Pega o formul√°rio pelo ID para manipular ele no c√≥digo.

            const telefoneInput = document.getElementById("telefone");
            // Pega o campo de telefone pelo ID para aplicar a m√°scara.
           
            telefoneInput.addEventListener("input", function (e) {
                let input = e.target.value.replace(/\D/g, ""); // S√≥ n√∫meros
                if (input.length > 11) input = input.slice(0, 11);
                // Limita a 11 d√≠gitos, que √© o m√°ximo para um telefone brasileiro.

                if (input.length === 0) {
                    e.target.value = "";} 
                else if (input.length <= 2) {
                    e.target.value = `(${input}`;} 
                else if (input.length <= 6) {
                    e.target.value = `(${input.slice(0, 2)}) ${input.slice(2)}`;} 
                else if (input.length <= 10) {
                    e.target.value = `(${input.slice(0, 2)}) ${input.slice(2, 6)}-${input.slice(6)}`;} 
                else {
                    e.target.value = `(${input.slice(0, 2)}) ${input.slice(2, 7)}-${input.slice(7)}`;}});
                // M√°scara autom√°tica para telefone, com () aparecendo logo no primeiro d√≠gito
            
            form.addEventListener("submit", function (e) {
            e.preventDefault(); 
            // Impede o recarregamento da p√°gina ao enviar o formul√°rio. 

                form.classList.add("was-validated"); // ativa o estilo vermelho se tiver campo vazio

                const inputs = form.querySelectorAll("input");
                let formValido = true;

                inputs.forEach((input) => {
                if (!input.checkValidity()) {
                    formValido = false;}});

                if (formValido) {
                document.getElementById("modalSucesso").style.display = "flex";
                // Se tudo estiver correto, exibe o modal de sucesso
                form.reset();
                form.classList.remove("was-validated");} 
                // limpa a valida√ß√£o depois
                });

            function fecharModal() {
                document.getElementById("modalSucesso").style.display = "none";}
       
       </script>
    </body>
</html>